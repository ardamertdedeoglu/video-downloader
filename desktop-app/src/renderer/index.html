<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' https: data:;">
    <title>Video Downloader</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Titlebar for macOS -->
        <div class="titlebar" id="titlebar">
            <div class="titlebar-drag-region"></div>
            <span class="app-title">Video Downloader</span>
        </div>

        <!-- Binary Download Modal -->
        <div class="modal" id="binaryModal">
            <div class="modal-content">
                <div class="modal-icon">â¬‡ï¸</div>
                <h2>Ä°lk Kurulum</h2>
                <p id="binaryStatus">Gerekli bileÅŸenler indiriliyor...</p>
                <div class="progress-container">
                    <div class="progress-bar" id="binaryProgress"></div>
                </div>
                <p class="progress-text" id="binaryProgressText">HazÄ±rlanÄ±yor...</p>
            </div>
        </div>

        <!-- Update Available Banner -->
        <div class="update-banner" id="updateBanner" style="display: none;">
            <span>ğŸ‰ Yeni sÃ¼rÃ¼m mevcut!</span>
            <button id="updateBtn" class="btn-small">GÃ¼ncelle</button>
            <button id="dismissUpdate" class="btn-small btn-ghost">Ã—</button>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="logo">
                    <span class="logo-icon">ğŸ“¥</span>
                    <h1>Video Downloader</h1>
                </div>
                <button class="settings-btn" id="settingsBtn" title="Ayarlar">
                    âš™ï¸
                </button>
            </header>

            <!-- URL Input Section -->
            <section class="url-section">
                <div class="input-group">
                    <input 
                        type="text" 
                        id="urlInput" 
                        placeholder="YouTube, Twitter, Instagram veya diÄŸer video URL'sini yapÄ±ÅŸtÄ±rÄ±n"
                        autocomplete="off"
                    >
                    <button id="fetchBtn" class="btn-primary">
                        <span class="btn-text">Getir</span>
                        <span class="btn-loader" style="display: none;">â³</span>
                    </button>
                </div>
                <p class="supported-sites">
                    YouTube, Twitter/X, Instagram, TikTok, Facebook ve 1000+ site desteklenir
                </p>
            </section>

            <!-- Error Message -->
            <div class="error-message" id="errorMessage" style="display: none;">
                <span class="error-icon">âš ï¸</span>
                <span class="error-text"></span>
            </div>

            <!-- Video Info Section -->
            <section class="video-section" id="videoSection" style="display: none;">
                <div class="video-card">
                    <div class="video-thumbnail">
                        <img id="videoThumbnail" src="" alt="Video thumbnail">
                        <span class="video-duration" id="videoDuration"></span>
                    </div>
                    <div class="video-info">
                        <h2 id="videoTitle"></h2>
                        <p class="video-meta">
                            <span id="videoUploader"></span>
                            <span class="separator">â€¢</span>
                            <span id="videoViews"></span>
                        </p>
                    </div>
                </div>

                <!-- Format Selection -->
                <div class="format-section">
                    <h3>Format SeÃ§in</h3>
                    
                    <div class="format-tabs">
                        <button class="format-tab active" data-tab="video">ğŸ¬ Video</button>
                        <button class="format-tab" data-tab="audio">ğŸµ Sadece Ses</button>
                    </div>

                    <div class="format-content" id="videoFormats">
                        <div class="format-list" id="videoFormatList"></div>
                    </div>

                    <div class="format-content" id="audioFormats" style="display: none;">
                        <div class="format-list" id="audioFormatList"></div>
                        <div class="audio-option">
                            <button id="downloadMp3Btn" class="btn-primary btn-full">
                                ğŸµ MP3 Olarak Ä°ndir (En Ä°yi Kalite)
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Download Progress -->
                <div class="download-progress" id="downloadProgress" style="display: none;">
                    <div class="progress-header">
                        <span id="downloadStatus">Ä°ndiriliyor...</span>
                        <button id="cancelDownload" class="btn-ghost">Ä°ptal</button>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" id="downloadProgressBar"></div>
                    </div>
                    <p class="progress-percent" id="downloadPercent">0%</p>
                </div>

                <!-- Download Complete -->
                <div class="download-complete" id="downloadComplete" style="display: none;">
                    <span class="complete-icon">âœ…</span>
                    <span>Ä°ndirme tamamlandÄ±!</span>
                    <button id="openFolderBtn" class="btn-small">ğŸ“‚ KlasÃ¶rÃ¼ AÃ§</button>
                </div>
            </section>
        </main>

        <!-- Settings Panel -->
        <div class="settings-panel" id="settingsPanel" style="display: none;">
            <div class="settings-header">
                <h2>âš™ï¸ Ayarlar</h2>
                <button id="closeSettings" class="btn-ghost">Ã—</button>
            </div>
            
            <div class="settings-content">
                <!-- Website Cookie Sync -->
                <div class="setting-group">
                    <label>ğŸª +18 Video DesteÄŸi</label>
                    <p class="setting-desc">YaÅŸ kÄ±sÄ±tlamalÄ± videolar iÃ§in web sitesinden Ã§erez senkronizasyonu</p>
                    
                    <div class="cookie-sync-status" id="cookieSyncStatus">
                        <span class="cookie-icon">ğŸ”’</span>
                        <span id="cookieSyncText">Ã‡erez yÃ¼klenmedi</span>
                    </div>
                    
                    <div class="cookie-sync-actions">
                        <button id="importCookieBtn" class="btn-small">ğŸ“ Cookie DosyasÄ± YÃ¼kle</button>
                        <button id="openWebsiteBtn" class="btn-small btn-accent">ğŸŒ Web Sitesinden Al</button>
                        <button id="deleteCookieBtn" class="btn-small btn-ghost" style="display: none;">ğŸ—‘ï¸ Sil</button>
                    </div>
                    
                    <p class="setting-hint" style="margin-top: 8px;">
                        ğŸ’¡ Web sitesine gidin, YouTube'a giriÅŸ yapÄ±n, Ã§erezleri senkronize edin
                    </p>
                </div>

                <!-- Cookie Settings -->
                <div class="setting-group">
                    <label>TarayÄ±cÄ± Ã‡erezi KullanÄ±mÄ±</label>
                    <p class="setting-desc">Yerel tarayÄ±cÄ±dan Ã§erez okuma (tarayÄ±cÄ± kapalÄ±yken Ã§alÄ±ÅŸÄ±r)</p>
                    <div class="toggle-container">
                        <label class="toggle">
                            <input type="checkbox" id="useCookiesToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                        <span id="cookieStatusText">Ã‡erezler aktif</span>
                    </div>
                </div>

                <!-- Browser Selection -->
                <div class="setting-group" id="browserSettingGroup">
                    <label>Ã‡erez TarayÄ±cÄ±sÄ±</label>
                    <p class="setting-desc">YaÅŸ kÄ±sÄ±tlamalÄ± videolar iÃ§in giriÅŸ yaptÄ±ÄŸÄ±nÄ±z tarayÄ±cÄ±yÄ± seÃ§in</p>
                    <div class="browser-list" id="browserList"></div>
                </div>

                <!-- Download Path -->
                <div class="setting-group">
                    <label>Ä°ndirme KlasÃ¶rÃ¼</label>
                    <div class="path-selector">
                        <input type="text" id="downloadPath" readonly>
                        <button id="selectPathBtn" class="btn-small">DeÄŸiÅŸtir</button>
                    </div>
                </div>

                <!-- Binary Status -->
                <div class="setting-group">
                    <label>BileÅŸen Durumu</label>
                    <div class="binary-status" id="binaryStatusList"></div>
                    <button id="updateBinariesBtn" class="btn-small" style="margin-top: 10px;">
                        ğŸ”„ BileÅŸenleri GÃ¼ncelle
                    </button>
                </div>

                <!-- App Info -->
                <div class="setting-group">
                    <label>Uygulama Bilgisi</label>
                    <p class="app-version">SÃ¼rÃ¼m: 1.0.0</p>
                    <p class="app-author">YapÄ±mcÄ±: Arda Mert Dedeoglu</p>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
